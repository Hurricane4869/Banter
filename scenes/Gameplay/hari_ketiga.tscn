[gd_scene load_steps=37 format=3 uid="uid://dpw0htghrlgc6"]

[ext_resource type="Script" path="res://scenes/Gameplay/hari_ketiga.gd" id="1_28xcp"]
[ext_resource type="PackedScene" uid="uid://dnphv7esbmo4w" path="res://scenes/dummy/QuestTimer.tscn" id="2_gte1d"]
[ext_resource type="PackedScene" uid="uid://eyjjp6rydhdv" path="res://scenes/Gameplay/pause_menu.tscn" id="3_uob2n"]
[ext_resource type="Theme" uid="uid://bv8b7fiak2xr" path="res://assets/Art/themes/default_theme.tres" id="4_7poft"]
[ext_resource type="Texture2D" uid="uid://njgloyrvb8jf" path="res://assets/Art/PAUSE.png" id="5_lflgm"]
[ext_resource type="FontFile" uid="uid://ormovon3kbjx" path="res://assets/Fonts/comicz.ttf" id="6_3n0m0"]
[ext_resource type="Texture2D" uid="uid://cqopeg5daa0mj" path="res://assets/Art/UI HP.png" id="7_o0da7"]
[ext_resource type="Texture2D" uid="uid://drxn5prph88o2" path="res://assets/Art/DETAIL MISI lvl 3 tanpa back.png" id="8_83p02"]
[ext_resource type="Texture2D" uid="uid://cvxx8kkwb0ha6" path="res://assets/Art/tombol mulai.png" id="9_8ex77"]
[ext_resource type="Texture2D" uid="uid://dkxmpy5a5dhql" path="res://assets/Art/ui rating/PANEL LEVEL SELESAI (KOTAK DOANK).png" id="10_aep05"]
[ext_resource type="Texture2D" uid="uid://cjrwa65y26elc" path="res://assets/Art/ui rating/Salinan LEVEL SELECTION.png" id="11_737sr"]
[ext_resource type="Texture2D" uid="uid://ijf04mx6lhi6" path="res://assets/Art/ui rating/Salinan RESTART LEVEL.png" id="12_h7rt8"]
[ext_resource type="Texture2D" uid="uid://cm570wcmxrpme" path="res://assets/Art/ui rating/Salinan NEXT LEVEL.png" id="13_18huc"]
[ext_resource type="Texture2D" uid="uid://cq861qg6s2hfh" path="res://assets/Art/BINTANG 0.png" id="14_6lvgc"]
[ext_resource type="Texture2D" uid="uid://dqeqy8cqtwqpt" path="res://assets/Art/BINTANG 1.png" id="15_cfucn"]
[ext_resource type="Texture2D" uid="uid://b35jd1qlrnkmg" path="res://assets/Art/BINTANG 2.png" id="16_xfebx"]
[ext_resource type="Texture2D" uid="uid://dgxpocsl0eoi0" path="res://assets/Art/BINTANG 3.png" id="17_01ui5"]
[ext_resource type="PackedScene" uid="uid://c6am1kusod3kl" path="res://scenes/Gameplay/world_tile_map.tscn" id="18_y3hkp"]
[ext_resource type="TileSet" uid="uid://c2wn1no8xhpbw" path="res://assets/environment/world_tileset.tres" id="19_r52dj"]
[ext_resource type="PackedScene" uid="uid://c7nar4uo3cmbt" path="res://scenes/dummy/object/InteractionArea.tscn" id="20_4u2t6"]
[ext_resource type="PackedScene" uid="uid://7abu64wc30ni" path="res://scenes/dummy/object/tanda.tscn" id="21_pybpx"]
[ext_resource type="PackedScene" uid="uid://c1hhkgowgbsf8" path="res://scenes/dummy/object/batang_kayu.tscn" id="22_hx0ab"]
[ext_resource type="PackedScene" uid="uid://qkbsmm0dhgmf" path="res://scenes/Player/character_ali.tscn" id="23_u8bej"]
[ext_resource type="AudioStream" uid="uid://cxw5ufhejewj3" path="res://Audio/SFX/phone lock or unlock (mp3cut.net).mp3" id="24_54ka8"]
[ext_resource type="AudioStream" uid="uid://bu3rjf54b5lms" path="res://Audio/Music/bgm gameplay.mp3" id="25_hlsyy"]
[ext_resource type="AudioStream" uid="uid://dwa23kwl2m0y6" path="res://Audio/SFX/finish_quest.mp3" id="26_duwas"]
[ext_resource type="AudioStream" uid="uid://d1iqq310poelp" path="res://Audio/SFX/malam_hari_backsound.mp3" id="27_p2alh"]

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_fmgyb"]
bg_color = Color(0.6, 0.6, 0.6, 0)

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_5ddip"]
bg_color = Color(0, 0, 0, 1)
corner_radius_top_left = 40
corner_radius_top_right = 40
corner_radius_bottom_right = 40
corner_radius_bottom_left = 40

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_hc5nt"]
bg_color = Color(0.6, 0.6, 0.6, 0)

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_iup0b"]
bg_color = Color(0.6, 0.6, 0.6, 0)

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_ocxq5"]
bg_color = Color(0.6, 0.6, 0.6, 0)

[sub_resource type="Animation" id="Animation_r2eu0"]
resource_name = "Quest_Appear"
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.7, 0.9),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 0,
"values": [Vector2(693, 1100), Vector2(693, 50), Vector2(693, 85)]
}

[sub_resource type="Animation" id="Animation_ltt5s"]
resource_name = "Start_Quest"
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.7, 0.9),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 0,
"values": [Vector2(693, 1100), Vector2(693, 50), Vector2(693, 85)]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_7i0bb"]
_data = {
"Quest_Appear": SubResource("Animation_r2eu0"),
"Start_Quest": SubResource("Animation_ltt5s")
}

[sub_resource type="RectangleShape2D" id="RectangleShape2D_6uujj"]
size = Vector2(96, 86)

[node name="HariKetiga" type="Node2D"]
script = ExtResource("1_28xcp")
BAD_TIME = 60
NORMAL_TIME = 120
GOOD_TIME = 180

[node name="UI" type="CanvasLayer" parent="."]

[node name="QuestTimer" parent="UI" instance=ExtResource("2_gte1d")]
minute = 4

[node name="PauseMenu" parent="UI" instance=ExtResource("3_uob2n")]
metadata/_edit_use_anchors_ = true

[node name="Pause" type="Button" parent="UI"]
visible = false
offset_left = 1800.0
offset_top = 30.0
offset_right = 2033.0
offset_bottom = 240.0
scale = Vector2(0.402468, 0.4)
theme = ExtResource("4_7poft")
theme_override_styles/normal = SubResource("StyleBoxFlat_fmgyb")
theme_override_styles/hover = SubResource("StyleBoxFlat_5ddip")
theme_override_styles/pressed = SubResource("StyleBoxFlat_hc5nt")
theme_override_styles/disabled = SubResource("StyleBoxFlat_iup0b")
theme_override_styles/focus = SubResource("StyleBoxFlat_ocxq5")
icon = ExtResource("5_lflgm")

[node name="Pause_Text" type="Label" parent="UI/Pause"]
visibility_layer = 7
layout_mode = 0
offset_left = 21.8747
offset_top = 218.75
offset_right = 204.875
offset_bottom = 289.75
theme_override_colors/font_color = Color(1, 1, 1, 1)
theme_override_colors/font_outline_color = Color(0, 0, 0, 1)
theme_override_constants/outline_size = 20
theme_override_constants/shadow_outline_size = 0
theme_override_fonts/font = ExtResource("6_3n0m0")
theme_override_font_sizes/font_size = 60
text = "Pause
(Esc)"
horizontal_alignment = 1
vertical_alignment = 1

[node name="PlayQuest" type="TextureRect" parent="UI"]
process_mode = 3
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -267.0
offset_top = 560.0
offset_right = 1339.0
offset_bottom = 3352.0
grow_horizontal = 2
grow_vertical = 2
scale = Vector2(0.32, 0.32)
texture = ExtResource("7_o0da7")
metadata/_edit_use_anchors_ = true

[node name="Level3" type="TextureRect" parent="UI/PlayQuest"]
layout_mode = 0
offset_left = 145.0
offset_top = 310.0
offset_right = 1459.0
offset_bottom = 2226.0
texture = ExtResource("8_83p02")
metadata/_edit_use_anchors_ = true

[node name="Handphone" type="AnimationPlayer" parent="UI/PlayQuest"]
libraries = {
"": SubResource("AnimationLibrary_7i0bb")
}

[node name="PlayButton" type="Button" parent="UI/PlayQuest"]
layout_mode = 1
anchors_preset = 7
anchor_left = 0.5
anchor_top = 1.0
anchor_right = 0.5
anchor_bottom = 1.0
offset_left = -231.0
offset_top = -999.25
offset_right = 231.0
offset_bottom = -781.25
grow_horizontal = 2
grow_vertical = 0
theme = ExtResource("4_7poft")
icon = ExtResource("9_8ex77")

[node name="RatingSystem" type="Control" parent="UI"]
process_mode = 3
visible = false
layout_mode = 3
anchors_preset = 0
offset_left = -75.0
offset_right = -35.0
offset_bottom = 40.0

[node name="rating_menu" type="TextureRect" parent="UI/RatingSystem"]
layout_mode = 0
offset_left = 750.0
offset_top = 175.0
offset_right = 1899.0
offset_bottom = 1742.0
scale = Vector2(0.5, 0.5)
texture = ExtResource("10_aep05")

[node name="HBoxContainer" type="HBoxContainer" parent="UI/RatingSystem/rating_menu"]
layout_mode = 1
anchors_preset = -1
anchor_top = 0.884493
anchor_right = 1.0
anchor_bottom = 0.884493
offset_top = -180.0
offset_bottom = 4.0
grow_horizontal = 2
grow_vertical = 2
theme_override_constants/separation = 75
alignment = 1

[node name="Chooselevel_Button" type="Button" parent="UI/RatingSystem/rating_menu/HBoxContainer"]
layout_mode = 2
theme = ExtResource("4_7poft")
icon = ExtResource("11_737sr")

[node name="Restart_Button" type="Button" parent="UI/RatingSystem/rating_menu/HBoxContainer"]
layout_mode = 2
theme = ExtResource("4_7poft")
icon = ExtResource("12_h7rt8")

[node name="NextLevel_Button" type="Button" parent="UI/RatingSystem/rating_menu/HBoxContainer"]
layout_mode = 2
theme = ExtResource("4_7poft")
icon = ExtResource("13_18huc")

[node name="label_berhasil" type="Label" parent="UI/RatingSystem/rating_menu"]
visible = false
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -424.5
offset_top = -655.5
offset_right = 456.5
offset_bottom = -514.5
grow_horizontal = 2
grow_vertical = 2
theme_override_colors/font_color = Color(1, 1, 1, 1)
theme_override_colors/font_outline_color = Color(0, 0, 0, 1)
theme_override_constants/outline_size = 30
theme_override_fonts/font = ExtResource("6_3n0m0")
theme_override_font_sizes/font_size = 100
text = "KAMU BERHASIL!"

[node name="label_gagal" type="Label" parent="UI/RatingSystem/rating_menu"]
visible = false
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -424.5
offset_top = -655.5
offset_right = 456.5
offset_bottom = -514.5
grow_horizontal = 2
grow_vertical = 2
theme_override_colors/font_color = Color(1, 1, 1, 1)
theme_override_colors/font_outline_color = Color(0, 0, 0, 1)
theme_override_constants/outline_size = 30
theme_override_fonts/font = ExtResource("6_3n0m0")
theme_override_font_sizes/font_size = 100
text = "KAMU GAGAL!"
horizontal_alignment = 1

[node name="Star0" type="VBoxContainer" parent="UI/RatingSystem/rating_menu"]
visible = false
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -464.5
offset_top = -297.5
offset_right = 237.5
offset_bottom = 12.5001
grow_horizontal = 2
grow_vertical = 2
scale = Vector2(1.3, 1.3)
theme_override_constants/separation = 50

[node name="star0_icon" type="TextureRect" parent="UI/RatingSystem/rating_menu/Star0"]
layout_mode = 2
texture = ExtResource("14_6lvgc")

[node name="Star0_Label" type="Label" parent="UI/RatingSystem/rating_menu/Star0"]
visibility_layer = 7
layout_mode = 2
theme_override_colors/font_color = Color(1, 1, 1, 1)
theme_override_colors/font_outline_color = Color(0, 0, 0, 1)
theme_override_constants/outline_size = 20
theme_override_constants/shadow_outline_size = 0
theme_override_fonts/font = ExtResource("6_3n0m0")
theme_override_font_sizes/font_size = 50
text = "Pelanggan kecewa..."
horizontal_alignment = 1
vertical_alignment = 1

[node name="Star1" type="VBoxContainer" parent="UI/RatingSystem/rating_menu"]
visible = false
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -464.5
offset_top = -297.5
offset_right = 237.5
offset_bottom = 12.5001
grow_horizontal = 2
grow_vertical = 2
scale = Vector2(1.3, 1.3)
theme_override_constants/separation = 50

[node name="star1_icon" type="TextureRect" parent="UI/RatingSystem/rating_menu/Star1"]
layout_mode = 2
texture = ExtResource("15_cfucn")

[node name="Star1_Label" type="Label" parent="UI/RatingSystem/rating_menu/Star1"]
visibility_layer = 7
layout_mode = 2
theme_override_colors/font_color = Color(1, 1, 1, 1)
theme_override_colors/font_outline_color = Color(0, 0, 0, 1)
theme_override_constants/outline_size = 20
theme_override_constants/shadow_outline_size = 0
theme_override_fonts/font = ExtResource("6_3n0m0")
theme_override_font_sizes/font_size = 50
text = "Pelanggan ikhlas..."
horizontal_alignment = 1
vertical_alignment = 1

[node name="Star2" type="VBoxContainer" parent="UI/RatingSystem/rating_menu"]
visible = false
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -464.5
offset_top = -297.5
offset_right = 237.5
offset_bottom = 12.5001
grow_horizontal = 2
grow_vertical = 2
scale = Vector2(1.3, 1.3)
theme_override_constants/separation = 50

[node name="star2_icon" type="TextureRect" parent="UI/RatingSystem/rating_menu/Star2"]
layout_mode = 2
texture = ExtResource("16_xfebx")

[node name="Star2_Label" type="Label" parent="UI/RatingSystem/rating_menu/Star2"]
visibility_layer = 7
layout_mode = 2
theme_override_colors/font_color = Color(1, 1, 1, 1)
theme_override_colors/font_outline_color = Color(0, 0, 0, 1)
theme_override_constants/outline_size = 20
theme_override_constants/shadow_outline_size = 0
theme_override_fonts/font = ExtResource("6_3n0m0")
theme_override_font_sizes/font_size = 50
text = "Pelanggan puas!"
horizontal_alignment = 1
vertical_alignment = 1

[node name="Star3" type="VBoxContainer" parent="UI/RatingSystem/rating_menu"]
visible = false
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -464.5
offset_top = -297.5
offset_right = 237.5
offset_bottom = 12.5001
grow_horizontal = 2
grow_vertical = 2
scale = Vector2(1.3, 1.3)
theme_override_constants/separation = 50

[node name="star3_icon" type="TextureRect" parent="UI/RatingSystem/rating_menu/Star3"]
layout_mode = 2
texture = ExtResource("17_01ui5")

[node name="Star3_Label" type="Label" parent="UI/RatingSystem/rating_menu/Star3"]
visibility_layer = 7
layout_mode = 2
theme_override_colors/font_color = Color(1, 1, 1, 1)
theme_override_colors/font_outline_color = Color(0, 0, 0, 1)
theme_override_constants/outline_size = 20
theme_override_constants/shadow_outline_size = 0
theme_override_fonts/font = ExtResource("6_3n0m0")
theme_override_font_sizes/font_size = 50
text = "Pelanggan bahagia!"
horizontal_alignment = 1
vertical_alignment = 1

[node name="Environment" type="Node" parent="."]

[node name="WorldTileMap" parent="Environment" instance=ExtResource("18_y3hkp")]

[node name="WorldLimit" type="TileMap" parent="Environment"]
visible = false
tile_set = ExtResource("19_r52dj")
format = 2
layer_0/tile_data = PackedInt32Array(-1376228, 0, 0, -1376227, 0, 0, -1376226, 0, 0, -1376225, 0, 0, -1376224, 0, 0, -1376223, 0, 0, -1376229, 0, 0, -1376230, 0, 0, -1376231, 0, 0, -1376232, 0, 0, -1376233, 0, 0, -1376234, 0, 0, -1376235, 0, 0, -1376236, 0, 0, -1376237, 0, 0, -1376238, 0, 0, -1376239, 0, 0, -1376240, 0, 0, -1376241, 0, 0, -1376242, 0, 0, -1376243, 0, 0, -1376256, 0, 0, -1310720, 0, 0, -1245184, 0, 0, -1179648, 0, 0, -1114112, 0, 0, -1048576, 0, 0, -983040, 0, 0, -917504, 0, 0, -851968, 0, 0, -786432, 0, 0, -720896, 0, 0, -655360, 0, 0, -589824, 0, 0, -524288, 0, 0, -458752, 0, 0, -393216, 0, 0, -327680, 0, 0, -262144, 0, 0, -196608, 0, 0, -131072, 0, 0, -65536, 0, 0, 0, 0, 0, -1376255, 0, 0, 1, 0, 0, -1376254, 0, 0, 2, 0, 0, -1376253, 0, 0, 3, 0, 0, -1376252, 0, 0, 4, 0, 0, -1376251, 0, 0, 5, 0, 0, -1376250, 0, 0, 6, 0, 0, -1376249, 0, 0, 7, 0, 0, -1376248, 0, 0, 8, 0, 0, -1376247, 0, 0, 9, 0, 0, -1376246, 0, 0, 10, 0, 0, -1376245, 0, 0, 11, 0, 0, -1376244, 0, 0, 12, 0, 0, 13, 0, 0, 14, 0, 0, 15, 0, 0, 16, 0, 0, 17, 0, 0, 18, 0, 0, 19, 0, 0, 20, 0, 0, 21, 0, 0, 22, 0, 0, 23, 0, 0, 24, 0, 0, 25, 0, 0, 26, 0, 0, 27, 0, 0, 28, 0, 0, 29, 0, 0, 30, 0, 0, 31, 0, 0, 32, 0, 0, 33, 0, 0, -1376222, 0, 0, -1310686, 0, 0, -1245150, 0, 0, -1179614, 0, 0, -1114078, 0, 0, -1048542, 0, 0, -983006, 0, 0, -917470, 0, 0, -851934, 0, 0, -786398, 0, 0, -720862, 0, 0, -655326, 0, 0, -589790, 0, 0, -524254, 0, 0, -458718, 0, 0, -393182, 0, 0, -327646, 0, 0, -262110, 0, 0, -196574, 0, 0, -131038, 0, 0, -65502, 0, 0, 34, 0, 0)

[node name="AntarPaket" parent="Environment" instance=ExtResource("20_4u2t6")]
visibility_layer = 4
position = Vector2(2752, -325)
action_name = "antar paket"

[node name="Tanda" parent="Environment/AntarPaket" instance=ExtResource("21_pybpx")]
visible = false
z_index = 2
position = Vector2(-1, -8)
scale = Vector2(0.25, 0.25)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Environment/AntarPaket"]
position = Vector2(0, 24)
shape = SubResource("RectangleShape2D_6uujj")

[node name="CanvasModulate" type="CanvasModulate" parent="Environment"]
position = Vector2(-56, -8)
color = Color(0.359216, 0.00115514, 0.864972, 1)

[node name="BatangKayu" parent="Environment" instance=ExtResource("22_hx0ab")]
position = Vector2(1882, -1377)

[node name="BatangKayu2" parent="Environment" instance=ExtResource("22_hx0ab")]
position = Vector2(1968, -1355)

[node name="BatangKayu3" parent="Environment" instance=ExtResource("22_hx0ab")]
position = Vector2(1242, -849)

[node name="BatangKayu4" parent="Environment" instance=ExtResource("22_hx0ab")]
position = Vector2(1328, -827)

[node name="Character_Ali" parent="." groups=["Player"] instance=ExtResource("23_u8bej")]
position = Vector2(4200, -2216)
scale = Vector2(1.2, 1.2)
ACCEL = 800
FRICTION = 200
MAX_SPEED = 200
starting_direction = Vector2(-1, 0)

[node name="Sound" type="Node" parent="."]

[node name="open_handphone_sound" type="AudioStreamPlayer" parent="Sound"]
stream = ExtResource("24_54ka8")
bus = &"SFX"

[node name="day_1_bgm" type="AudioStreamPlayer" parent="Sound"]
stream = ExtResource("25_hlsyy")
volume_db = -5.0
bus = &"Music"

[node name="Finish_quest_sound" type="AudioStreamPlayer" parent="Sound"]
stream = ExtResource("26_duwas")
bus = &"SFX"

[node name="malam_hari_backsound" type="AudioStreamPlayer" parent="Sound"]
stream = ExtResource("27_p2alh")
volume_db = 5.0
bus = &"Music"

[connection signal="timeout" from="UI/QuestTimer" to="." method="_on_quest_timer_timeout"]
[connection signal="pressed" from="UI/Pause" to="." method="_on_pause_pressed"]
[connection signal="pressed" from="UI/PlayQuest/PlayButton" to="." method="_on_play_button_pressed"]
[connection signal="pressed" from="UI/RatingSystem/rating_menu/HBoxContainer/Chooselevel_Button" to="." method="_on_chooselevel_button_pressed"]
[connection signal="pressed" from="UI/RatingSystem/rating_menu/HBoxContainer/Restart_Button" to="." method="_on_restart_button_pressed"]
[connection signal="pressed" from="UI/RatingSystem/rating_menu/HBoxContainer/NextLevel_Button" to="." method="_on_next_level_button_pressed"]
